@model Car_Rent.ViewModels.Car.BookcarViewModel
@using Car_Rent.ViewModels.Car


@{
	ViewData["Title"] = "Booking A Car";
	Layout = "~/Views/Shared/MainLayout.cshtml";
}

<!-- Carousel Start -->
<div class="header-carousel">
	<div id="carouselId" class="carousel slide" data-bs-ride="carousel" data-bs-interval="false">
		<ol class="carousel-indicators">
			<li data-bs-target="#carouselId" data-bs-slide-to="0" class="active" aria-current="true" aria-label="First slide"></li>
			<li data-bs-target="#carouselId" data-bs-slide-to="1" aria-label="Second slide"></li>
		</ol>
		<div class="carousel-inner" role="listbox">
			<div class="carousel-item active">
				<img src="~/Main/img/carousel-2.jpg" class="img-fluid w-100" alt="First slide" />
				<div class="carousel-caption">
					<div class="container py-4">
						<div class="row g-5">
							<div class="col-lg-6 fadeInLeft animated" data-animation="fadeInLeft" data-delay="1s" style="animation-delay: 1s;">
								<div class="bg-secondary rounded p-5">
									<h4 class="text-white mb-4">CONTINUE CAR RESERVATION</h4>
									<form id="reserveForm" asp-action="BookNow" asp-controller="Bookcar" method="post">
										@Html.AntiForgeryToken()
										<input type="hidden" id="tenantIdHidden" value="@User.FindFirst("tenant_id")?.Value" />
										<input type="hidden" name="TenantId" id="tenantId" value="@User.FindFirst("tenant_id")?.Value" />
										<div class="row g-3">

											<!-- 1) PICKUP DATE/TIME -->
											<div class="col-12">
												<div class="input-group">
													<div class="d-flex align-items-center bg-light text-body rounded-start p-2">
														<span class="fas fa-calendar-alt"></span><span class="ms-1">Pick Up</span>
													</div>
													<input class="form-control" name="StartDate" type="date">
													<select class="form-select ms-3" name="StartTime" aria-label="Pick up time">
														<option>12:00</option>
														<option>01:00</option>
														<option>02:00</option>
														<option>03:00</option>
														<option>04:00</option>
														<option>05:00</option>
														<option>06:00</option>
														<option>07:00</option>
														<option>08:00</option>
														<option>09:00</option>
														<option>10:00</option>
														<option>11:00</option>
														<option>12:00</option>
														<option>13:00</option>
														<option>14:00</option>
														<option>15:00</option>
														<option>16:00</option>
														<option>17:00</option>
														<option>18:00</option>
														<option>19:00</option>
														<option>20:00</option>
														<option>21:00</option>
														<option>22:00</option>
														<option>23:00</option>
													</select>
												</div>
											</div>

											<!-- 1) DROPOFF DATE/TIME -->
											<div class="col-12">
												<div class="input-group">
													<div class="d-flex align-items-center bg-light text-body rounded-start p-2">
														<span class="fas fa-calendar-alt"></span><span class="ms-1">Drop off</span>
													</div>
													<input class="form-control" name="EndDate" type="date">
													<select class="form-select ms-3" name="EndTime" aria-label="Drop off time">
														<option>12:00</option>
														<option>01:00</option>
														<option>02:00</option>
														<option>03:00</option>
														<option>04:00</option>
														<option>05:00</option>
														<option>06:00</option>
														<option>07:00</option>
														<option>08:00</option>
														<option>09:00</option>
														<option>10:00</option>
														<option>11:00</option>
														<option>12:00</option>
														<option>13:00</option>
														<option>14:00</option>
														<option>15:00</option>
														<option>16:00</option>
														<option>17:00</option>
														<option>18:00</option>
														<option>19:00</option>
														<option>20:00</option>
														<option>21:00</option>
														<option>22:00</option>
														<option>23:00</option>
													</select>
												</div>
											</div>

											<!-- 2) PICKUP (Station) -->
											<div class="col-12">
												<div class="input-group">
													<div class="d-flex align-items-center bg-light text-body rounded-start p-2">
														<span class="fas fa-map-marker-alt"></span> <span class="ms-1">Pick Up (Station)</span>
													</div>
													<select id="pickupLocationSelect" name="PickupLocationId" class="form-select">
														@foreach (var l in (IEnumerable<LocationOptionVM>)ViewBag.Locations)
														{
															<option value="@l.LocationId" data-tenantid="@l.TenantId">
																[@l.TenantId] @l.Name
															</option>
														}
													</select>
												</div>
											</div>

											<!-- 2) DROPOFF (Station) -->
											<div class="col-12">
												<a href="#" class="text-start text-white d-block mb-2">Need a different drop-off location?</a>
												<div class="input-group">
													<div class="d-flex align-items-center bg-light text-body rounded-start p-2">
														<span class="fas fa-map-marker-alt"></span><span class="ms-1">Drop off (Station)</span>
													</div>
													<select class="form-select" name="DropoffLocationId" id="dropoffLocationSelect" required>
														@foreach (var l in (IEnumerable<LocationOptionVM>)ViewBag.Locations)
														{
															<option value="@l.LocationId" data-tenantid="@l.TenantId">
																[@l.TenantId] @l.Name
															</option>
														}
													</select>
												</div>
											</div>

											<!-- 3) CATEGORY -->
											<div class="col-12">
												<select id="categorySelect" name="CategoryId" class="form-select">
													<option value="">Select Your Car Type</option>
													@foreach (var c in Model.Categories)
													{
														var sel = (Model.SelectedCategoryId.HasValue && c.CategoryId == Model.SelectedCategoryId.Value) ? "selected" : "";
														@Html.Raw($"<option value='{c.CategoryId}' {sel}>{c.CategoryName}</option>")
													}
												</select>

											</div>

											<!-- 3) CAR -->
											<div class="col-12">
												<select id="carSelect" name="CarId" class="form-select">
													<option value="">Select Your Car</option>
													@foreach (var car in Model.Cars)
													{
														var sel = (Model.SelectedCarId.HasValue && car.CarId == Model.SelectedCarId.Value) ? "selected" : "";
														@Html.Raw($"<option value='{car.CarId}' {sel}>{car.CarName} - {car.LicensePlate}</option>")
													}
												</select>

											</div>

											<!-- SUBMIT -->
											<div class="col-12">
												<button type="submit" class="btn btn-light w-100 py-2">Book Now</button>
											</div>
										</div>
									</form>

								</div>
							</div>
							<div class="col-lg-6 d-none d-lg-flex fadeInRight animated" data-animation="fadeInRight" data-delay="1s" style="animation-delay: 1s;">
								<div class="text-start">
									<h1 class="display-5 text-white">Get 15% off your rental Plan your trip now</h1>
									<p>Treat yourself in USA</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="carousel-item">
				<img src="~/Main/img/carousel-1.jpg" class="img-fluid w-100" alt="First slide" />
				<div class="carousel-caption">
					<div class="container py-4">
						<div class="row g-5">
							<div class="col-lg-6 fadeInLeft animated" data-animation="fadeInLeft" data-delay="1s" style="animation-delay: 1s;">
								<div class="bg-secondary rounded p-5">
									<h4 class="text-white mb-4">CONTINUE CAR RESERVATION</h4>
									<form>
										<div class="row g-3">
											<div class="col-12">
												<select id="categorySelect" class="form-select" aria-label="Default select example">
													<option selected>Select Your Car type</option>
													@foreach (var c in Model.Categories)
													{
														<option value="@c.CategoryId">@c.CategoryName</option>
													}


												</select>
											</div>
											<div class="col-12">
												<select id="carSelect" class="form-select" aria-label="Default select example">
													<option selected>Select Your Car Brand</option>
													@foreach (var car in Model.Cars)
													{
														<option value="@car.CarId">@car.CarName</option>
													}

												</select>
											</div>
											<div class="col-12">
												<div class="input-group">
													<div class="d-flex align-items-center bg-light text-body rounded-start p-2">
														<span class="fas fa-map-marker-alt"></span><span class="ms-1">Pick Up</span>
													</div>
													<input class="form-control" type="text" placeholder="Enter a City or Airport" aria-label="Enter a City or Airport">
												</div>
											</div>
											<div class="col-12">
												<a href="#" class="text-start text-white d-block mb-2">Need a different drop-off location?</a>
												<div class="input-group">
													<div class="d-flex align-items-center bg-light text-body rounded-start p-2">
														<span class="fas fa-map-marker-alt"></span><span class="ms-1">Drop off</span>
													</div>
													<input class="form-control" type="text" placeholder="Enter a City or Airport" aria-label="Enter a City or Airport">
												</div>
											</div>
											<div class="col-12">
												<div class="input-group">
													<div class="d-flex align-items-center bg-light text-body rounded-start p-2">
														<span class="fas fa-calendar-alt"></span><span class="ms-1">Pick Up</span>
													</div>
													<input class="form-control" type="date">
													<select class="form-select ms-3" aria-label="Default select example">
														<option selected>12:00AM</option>
														<option value="1">1:00AM</option>
														<option value="2">2:00AM</option>
														<option value="3">3:00AM</option>
														<option value="4">4:00AM</option>
														<option value="5">5:00AM</option>
														<option value="6">6:00AM</option>
														<option value="7">7:00AM</option>
													</select>
												</div>
											</div>
											<div class="col-12">
												<div class="input-group">
													<div class="d-flex align-items-center bg-light text-body rounded-start p-2">
														<span class="fas fa-calendar-alt"></span><span class="ms-1">Drop off</span>
													</div>
													<input class="form-control" type="date">
													<select class="form-select ms-3" aria-label="Default select example">
														<option selected>12:00AM</option>
														<option value="1">1:00AM</option>
														<option value="2">2:00AM</option>
														<option value="3">3:00AM</option>
														<option value="4">4:00AM</option>
														<option value="5">5:00AM</option>
														<option value="6">6:00AM</option>
														<option value="7">7:00AM</option>
													</select>
												</div>
											</div>
											<div class="col-12">
												<button class="btn btn-light w-100 py-2">Book Now</button>
											</div>
										</div>
									</form>
								</div>
							</div>
							<div class="col-lg-6 d-none d-lg-flex fadeInRight animated" data-animation="fadeInRight" data-delay="1s" style="animation-delay: 1s;">
								<div class="text-start">
									<h1 class="display-5 text-white">Get 15% off your rental! Choose Your Model </h1>
									<p>Treat yourself in USA</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<!-- Carousel End -->


<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="~/js/booking.js"></script>
